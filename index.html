<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>虹靈御所八字人生兵法</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <h1 class="app-title">虹靈御所八字人生兵法</h1>
            <p class="app-subtitle">軍團戰略分析系統</p>
        </header>

        <!-- Area 1: Data Input -->
        <section class="input-section">
            <div class="card neon-border">
                <div class="card__header">
                    <h2>資料輸入區</h2>
                </div>
                <div class="card__body">
                    <form id="baziForm" class="bazi-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">姓名</label>
                                <input type="text" id="name" class="form-control neon-input" placeholder="請輸入姓名" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">性別</label>
                                <select id="gender" class="form-control neon-input" required>
                                    <option value="">請選擇</option>
                                    <option value="male">男</option>
                                    <option value="female">女</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">出生年份</label>
                                <select id="birthYear" class="form-control neon-input" required>
                                    <option value="">請選擇年份</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">出生月份</label>
                                <select id="birthMonth" class="form-control neon-input" required>
                                    <option value="">請選擇月份</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">出生日期</label>
                                <select id="birthDay" class="form-control neon-input" required>
                                    <option value="">請選擇日期</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">出生時辰</label>
                                <select id="birthHour" class="form-control neon-input" required>
                                    <option value="">請選擇時辰</option>
                                    <option value="0">子時 (23:00-01:00)</option>
                                    <option value="1">丑時 (01:00-03:00)</option>
                                    <option value="2">寅時 (03:00-05:00)</option>
                                    <option value="3">卯時 (05:00-07:00)</option>
                                    <option value="4">辰時 (07:00-09:00)</option>
                                    <option value="5">巳時 (09:00-11:00)</option>
                                    <option value="6">午時 (11:00-13:00)</option>
                                    <option value="7">未時 (13:00-15:00)</option>
                                    <option value="8">申時 (15:00-17:00)</option>
                                    <option value="9">酉時 (17:00-19:00)</option>
                                    <option value="10">戌時 (19:00-21:00)</option>
                                    <option value="11">亥時 (21:00-23:00)</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">出生地點</label>
                                <input type="text" id="birthPlace" class="form-control neon-input" placeholder="請輸入出生地點">
                            </div>
                        </div>
                        
                        <div class="form-options">
                            <label class="checkbox-label">
                                <input type="checkbox" id="midnightRule">
                                <span class="checkmark"></span>
                                子時換日
                            </label>
                        </div>
                        
                        <button type="submit" class="btn btn--primary neon-button" id="generateBtn">
                            <span class="btn-text">生成命盤</span>
                            <span class="btn-glow"></span>
                        </button>
                    </form>
                </div>
            </div>
        </section>

        <!-- Area 2: Traditional Bazi Chart -->
        <section class="bazi-chart-section" id="baziChart" style="display: none;">
            <div class="card neon-border">
                <div class="card__header">
                    <h2>傳統八字排盤區</h2>
                    <button class="toggle-btn" onclick="toggleSection('baziDetails')">展開詳情</button>
                </div>
                <div class="card__body">
                    <div class="bazi-pillars">
                        <div class="pillar-group">
                            <div class="pillar year-pillar">
                                <div class="pillar-label">年柱</div>
                                <div class="pillar-content">
                                    <div class="stem" id="yearStem">甲</div>
                                    <div class="branch" id="yearBranch">子</div>
                                </div>
                            </div>
                            <div class="pillar month-pillar">
                                <div class="pillar-label">月柱</div>
                                <div class="pillar-content">
                                    <div class="stem" id="monthStem">乙</div>
                                    <div class="branch" id="monthBranch">丑</div>
                                </div>
                            </div>
                            <div class="pillar day-pillar">
                                <div class="pillar-label">日柱</div>
                                <div class="pillar-content">
                                    <div class="stem" id="dayStem">丙</div>
                                    <div class="branch" id="dayBranch">寅</div>
                                </div>
                            </div>
                            <div class="pillar hour-pillar">
                                <div class="pillar-label">時柱</div>
                                <div class="pillar-content">
                                    <div class="stem" id="hourStem">丁</div>
                                    <div class="branch" id="hourBranch">卯</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bazi-details" id="baziDetails" style="display: none;">
                        <div class="detail-section">
                            <h3>十神關係</h3>
                            <div class="ten-gods" id="tenGods">
                                <span class="god-item">偏印</span>
                                <span class="god-item">劫財</span>
                                <span class="god-item">日主</span>
                                <span class="god-item">食神</span>
                            </div>
                        </div>
                        
                        <div class="detail-section">
                            <h3>藏干</h3>
                            <div class="hidden-stems" id="hiddenStems">
                                <div class="hidden-item">子：癸</div>
                                <div class="hidden-item">丑：己癸辛</div>
                                <div class="hidden-item">寅：甲丙戊</div>
                                <div class="hidden-item">卯：乙</div>
                            </div>
                        </div>
                        
                        <div class="detail-section">
                            <h3>納音五行</h3>
                            <div class="nayin" id="nayin">
                                <div class="nayin-item">海中金</div>
                                <div class="nayin-item">海中金</div>
                                <div class="nayin-item">爐中火</div>
                                <div class="nayin-item">爐中火</div>
                            </div>
                        </div>
                        
                        <div class="detail-section">
                            <h3>神煞</h3>
                            <div class="spirits" id="spirits">
                                <span class="spirit-item">天乙貴人</span>
                                <span class="spirit-item">文昌貴人</span>
                                <span class="spirit-item">桃花</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Area 3: Four Legions Analysis -->
        <section class="legions-section" id="legionsSection" style="display: none;">
            <div class="section-header">
                <h2>四時軍團分析區</h2>
            </div>
            
            <div class="legions-grid">
                <!-- Family Legion -->
                <div class="legion-card family-legion neon-border">
                    <div class="legion-header">
                        <h3>年柱：家族兵團</h3>
                        <div class="legion-colors">
                            <span class="color-dot" style="background: #FFD700;"></span>
                            <span class="color-dot" style="background: #2E8B57;"></span>
                        </div>
                    </div>
                    
                    <div class="legion-content">
                        <div class="officer main-general">
                            <strong>主將（天干）：</strong><span id="familyGeneral">甲木統帥</span>
                        </div>
                        <div class="officer advisor">
                            <strong>軍師（地支）：</strong><span id="familyAdvisor">子水謀士</span>
                        </div>
                        <div class="officer deputy">
                            <strong>副將（藏干主星）：</strong><span id="familyDeputy">癸水副將</span>
                        </div>
                        <div class="officer soldiers">
                            <strong>奇謀/士兵（藏干副星）：</strong><span id="familySoldiers">無</span>
                        </div>
                        <div class="battlefield">
                            <strong>納音戰場：</strong><span id="familyBattlefield">海中金戰場</span>
                        </div>
                        <div class="spirits-list">
                            <strong>神煞兵符：</strong><span id="familySpirits">天乙貴人</span>
                        </div>
                        
                        <div class="ai-story">
                            <button class="story-toggle" onclick="toggleStory('familyStory')">展開AI軍團故事</button>
                            <div class="story-content" id="familyStory" style="display: none;">
                                <div class="typewriter" id="familyStoryText"></div>
                            </div>
                        </div>
                        
                        <div class="strategy-advice">
                            <strong>兵法建議：</strong>
                            <div class="advice-text">"固本培元，家族為根基，善用祖蔭，方能立於不敗之地。"</div>
                        </div>
                    </div>
                </div>

                <!-- Growth Legion -->
                <div class="legion-card growth-legion neon-border">
                    <div class="legion-header">
                        <h3>月柱：成長兵團</h3>
                        <div class="legion-colors">
                            <span class="color-dot" style="background: #9ACD32;"></span>
                            <span class="color-dot" style="background: #FFD700;"></span>
                        </div>
                    </div>
                    
                    <div class="legion-content">
                        <div class="officer main-general">
                            <strong>主將（天干）：</strong><span id="growthGeneral">乙木統帥</span>
                        </div>
                        <div class="officer advisor">
                            <strong>軍師（地支）：</strong><span id="growthAdvisor">丑土謀士</span>
                        </div>
                        <div class="officer deputy">
                            <strong>副將（藏干主星）：</strong><span id="growthDeputy">己土副將</span>
                        </div>
                        <div class="officer soldiers">
                            <strong>奇謀/士兵（藏干副星）：</strong><span id="growthSoldiers">癸水、辛金</span>
                        </div>
                        <div class="battlefield">
                            <strong>納音戰場：</strong><span id="growthBattlefield">海中金戰場</span>
                        </div>
                        <div class="spirits-list">
                            <strong>神煞兵符：</strong><span id="growthSpirits">文昌貴人</span>
                        </div>
                        
                        <div class="ai-story">
                            <button class="story-toggle" onclick="toggleStory('growthStory')">展開AI軍團故事</button>
                            <div class="story-content" id="growthStory" style="display: none;">
                                <div class="typewriter" id="growthStoryText"></div>
                            </div>
                        </div>
                        
                        <div class="strategy-advice">
                            <strong>兵法建議：</strong>
                            <div class="advice-text">"厚積薄發，學而時習，成長之道在於持恆不懈。"</div>
                        </div>
                    </div>
                </div>

                <!-- Self Legion -->
                <div class="legion-card self-legion neon-border">
                    <div class="legion-header">
                        <h3>日柱：本我兵團</h3>
                        <div class="legion-colors">
                            <span class="color-dot" style="background: #4169E1;"></span>
                            <span class="color-dot" style="background: #8A2BE2;"></span>
                        </div>
                    </div>
                    
                    <div class="legion-content">
                        <div class="officer main-general">
                            <strong>主將（天干）：</strong><span id="selfGeneral">丙火統帥</span>
                        </div>
                        <div class="officer advisor">
                            <strong>軍師（地支）：</strong><span id="selfAdvisor">寅木謀士</span>
                        </div>
                        <div class="officer deputy">
                            <strong>副將（藏干主星）：</strong><span id="selfDeputy">甲木副將</span>
                        </div>
                        <div class="officer soldiers">
                            <strong>奇謀/士兵（藏干副星）：</strong><span id="selfSoldiers">丙火、戊土</span>
                        </div>
                        <div class="battlefield">
                            <strong>納音戰場：</strong><span id="selfBattlefield">爐中火戰場</span>
                        </div>
                        <div class="spirits-list">
                            <strong>神煞兵符：</strong><span id="selfSpirits">桃花</span>
                        </div>
                        
                        <div class="ai-story">
                            <button class="story-toggle" onclick="toggleStory('selfStory')">展開AI軍團故事</button>
                            <div class="story-content" id="selfStory" style="display: none;">
                                <div class="typewriter" id="selfStoryText"></div>
                            </div>
                        </div>
                        
                        <div class="strategy-advice">
                            <strong>兵法建議：</strong>
                            <div class="advice-text">"知己知彼，百戰不殆，本心為將，光明磊落。"</div>
                        </div>
                    </div>
                </div>

                <!-- Future Legion -->
                <div class="legion-card future-legion neon-border">
                    <div class="legion-header">
                        <h3>時柱：未來兵團</h3>
                        <div class="legion-colors">
                            <span class="color-dot" style="background: #FF4500;"></span>
                            <span class="color-dot" style="background: #DC143C;"></span>
                        </div>
                    </div>
                    
                    <div class="legion-content">
                        <div class="officer main-general">
                            <strong>主將（天干）：</strong><span id="futureGeneral">丁火統帥</span>
                        </div>
                        <div class="officer advisor">
                            <strong>軍師（地支）：</strong><span id="futureAdvisor">卯木謀士</span>
                        </div>
                        <div class="officer deputy">
                            <strong>副將（藏干主星）：</strong><span id="futureDeputy">乙木副將</span>
                        </div>
                        <div class="officer soldiers">
                            <strong>奇謀/士兵（藏干副星）：</strong><span id="futureSoldiers">無</span>
                        </div>
                        <div class="battlefield">
                            <strong>納音戰場：</strong><span id="futureBattlefield">爐中火戰場</span>
                        </div>
                        <div class="spirits-list">
                            <strong>神煞兵符：</strong><span id="futureSpirits">驛馬</span>
                        </div>
                        
                        <div class="ai-story">
                            <button class="story-toggle" onclick="toggleStory('futureStory')">展開AI軍團故事</button>
                            <div class="story-content" id="futureStory" style="display: none;">
                                <div class="typewriter" id="futureStoryText"></div>
                            </div>
                        </div>
                        
                        <div class="strategy-advice">
                            <strong>兵法建議：</strong>
                            <div class="advice-text">"運籌帷幄，決勝千里，未來可期，當築夢踏實。"</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <script src="app.js"></script>
</body>
</html>